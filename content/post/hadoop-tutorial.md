---
title: "Hadoop入门"
date: 2018-12-19T22:25:56+08:00
draft: false
categories: "bigdata"
---
&emsp;如果正在学习Hadoop，这是一篇最好的入门文章。在这篇关于Hadoop入门的博客中，你将会在几个简单的阶段中从hadoop的基础到高阶概念。另外，你也可以看下方的视频，该视频会由我们的Hadoop专家通过实际的例子来讲解Hadoop的基本概念。  
&emsp;在这篇博客中，我们将从以下几个主题出发:  

* 如何开始
* 什么是大数据
* 大数据与Hadoop:餐厅类比
* 什么是Hadoop
* Hadoop解决方案
* Hadoop特性
* Hadoop核心组件
* Hadoop案例研究

## 1.0 如何开始
&emsp;在开始进入我们关于Hadoop的主题之前，我们先来一个有趣的故事来说明Hadoop是如何实现的，以及它今年来为什么如此受欢迎。这都起源于两个人，Mike Cafarella和Doug Cutting。他们正致力于建立一个可以对一亿个网页进行索引的搜索引擎系统。在他们的研究之后，他们发现这个系统将在硬件方面花费$500,000以及每月$30,000的维护成本，这个话费是十分昂贵的。而且，他们很快意识到，他们的架构将不能支持数以亿计的网页。  
&emsp;他们偶然发现了一篇论文，这篇论文布于2003年，主要介绍谷歌的分布式文件系统架构(GFS)，这个系统已用于谷歌的生产环境。现在这篇关于GFS的论文被证明是他们需要的。很快地，他们意识到这能解决他们对于大文件的存储，这些文件由网络爬虫以及索引处理产生。在2004年，谷歌发表了一篇新的论文，向全世界介绍关于MapReduce的处理框架。最终，这两篇文章成为了Hadoop这个框架的基础。Doug在Hadoop的开发过程中是这样描述谷歌的:谷歌将在未来持续向世界传递信息。  
&emsp;现在，你知道Hadoop是多么强大了吧！现在，在介绍Hadoop之前，让我们讨论下大数据，这将带领我们进入Hadoop的开发。

## 2.0 什么是大数据
&emsp;你有没有想过，技术是如何演变来实现日益增长的新需求?例如，最早我们使用座机，而现在我们都改用智能手机。相似地，90后有多少人记得当时用地如此广泛的软盘驱动器。如今，软盘已经被硬盘取代，因为这些软盘在存储的容量和速度上是非常差的。然而，这也使软盘在处理如今大量数据的效率是不足的。事实上，我们现在可以在云端存储大量数据，而不用担心限制。  
&emsp;现在，让我们讨论各种驱动对于数据产生的贡献。  
&emsp;你有没有听说过IoT（物联网）?IoT将你的物理设备接入互联网，使它更智能。当今的社会，我们有智能空调，智能电视等等。你的智能空调能够根据外面的温度持久地控制你的室内温。想象一下，通过这些成千上万的空调，一年中可以产生多少数据。现在你应该可以明白IoT是如何贡献给大数据。  
&emsp;现在，我们一起来讨论大数据的最大贡献者：社交媒体。社交媒体是大数据演化过程中最重要的因素，它提供了关于用户行为习惯的信息。你可以通过下图查看它每分钟可以产生多少大的数据量:
![社交媒体数据生成](../images/hadoop/Social-Media-Hadoop-Tutorial-Edureka-768x743.png)
&emsp;除了生成数据的速度之外，大数据带来的第二个挑战是数据缺乏适当的格式或结构。   

## 3.0 大数据与Hadoop:餐厅类比
&emsp;关于Hadoop是如何解决大数据问题，我们用一个餐厅的例子来帮助我们理解。  
&emsp;Bob有一家小餐厅。起初，他每小时收到两份订单，而他的餐厅里有一个厨师和食品架，这些足以处理所有的订单。
![传统餐厅情景](../images/hadoop/Traditional-Restaurant-Analogy-Hadoop-Tutorial-Edureka.png)
&emsp;现在我们用餐厅来类比数据的产生是以一种稳定的速率，以及我们的关系型数据库(RDBMS)足以处理它，就像Bob餐厅里的厨师。现在，我们可以把数据存储想象成食品架，传统的数据处理系统想象成如图中的厨师。
![传统情景](../images/hadoop/Traditional-Scenario-Failed-Hadoop-Tutorial-Edureka.png)
&emsp;在几个月之后，Bob考虑扩大业务。因此他开始接一些网上订单，添加了一些新的食品来满足广大的顾客。因为这个转变，接收到的订单数量发生了巨大的增量，已增长到了每小时10份订单。以当前的状态，一个厨师难以完成如此巨大的订单数量。考虑到这种情况，Bob开始考虑解决方案。
![分布式厨师](../images/hadoop/Distributed-Chef-Hadoop-Tutorial-Edureka.png)
&emsp;相似地，在大数据理论中,当通过社交媒体、智能手机等媒介推荐后，数据会发生巨大的增长。现在，传统的应用，就像Bob的餐厅那样，已经没有足够的能力处理这种改变。然而，这就需要一些不同的解决方案来处理这些问题。  
&emsp;在进行了大量研究之后，Bob想出了解决，他雇佣了四个厨师来处理接收的大量订单。一切都很顺利，但是，这个解决方案面临一个新的问题。当四个厨师分享同一个食品架的时候，这个食品架就成为了这个流程中的瓶颈。因此，这个处理方案并没有Bob想得那个有效。  
![分布式处理方案失败](../images/hadoop/Distributed-System-Limitations-Hadoop-Tutorial-Edureka.png)
&emsp;相同地，为了解决大数据的问题，我们会建立很多处理单元来并行处理数据（就像Bob雇佣了4个厨师那样）。但是在这个案例中，多单元并行处理并没有有效地处理问题，因为集中式存储会成为瓶颈。换而言之，整个系统的性能将取决于集中式存储。当我们的集中式数据存储宕机，整个系统也将无法运行。因此，我们必须处理单点故障。
![餐厅问题解决方案](../images/hadoop/Restaurant-Solution-Hadoop-Tutorial-Edureka-768x362.png)
&emsp;Bob想出了另一张解决方案，他将所有的厨师分为两个等级：初级和高级厨师，他让初级厨师使用食品架。我们假设当天的餐点是肉酱。根据Bob的计划，一个初级厨师将准备肉，而另一个初级厨师将准备酱。然后他们将肉和酱提供给高级厨师，高级厨师将他们准备的肉和酱进行混合和加工，并交付最终的订单。
![hadoop餐厅方案](../images/hadoop/Hadoop-as-a-Solution-Restaurant-Analogy-Hadoop-Tutorial-Edureka.png)
&emsp;Hadoop的功能类似于Bob的餐厅。在Hadoop中，数据以一种分布式方式存储，并且为了容错性进行了分片，类似于Bob餐厅中的食品架。为了并行处理，首先数据将被子节点处理，这些子节点中存储了一些中间数据，然后由主节点对子节点的所有数据进行合并，并发送最后的结果。  
&emsp;现在，你应该明白了为什么大数据是个问题，并且Hadoop是如何处理这些问题的。我们来总结一下，大数据带来了三个主要的挑战。

* 第一个挑战是存储巨量的数据。存储大量数据对于一个传统系统来说是不可能的。理由很明显，存储能力被单个系统节点锁限制，并且数据会以惊人的速度增长。
* 第二个挑战是存储复杂的数据。我们知道存储是一个问题，但我告诉你这只是一个问题。数据不仅仅是巨大的，而且是多种格式的(非结构化、结构化、半结构化)。所以，你必须确保系统能够存储来自不同渠道的不同类型的数据。
* 最后我们一起来看第三个问题，数据处理速度。现在由于需要处理的数据量巨大，我们在处理大量数据上花费的时间也非常长。

&emsp;为了解决这些存储问题与处理问题，Hadoop创建了两个核心组件，HDFS和YARN。HDFS解决了存储问题，它以一种分布式的方式来存储这些数据，并且易于拓展。YARN解决了处理问题，它可以大量地减少在数据处理上的时间。我们一起来看看Hadoop吧。