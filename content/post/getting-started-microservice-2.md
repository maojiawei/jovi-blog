---
title: "微服务架构系列之二：服务拆分"
date: 2019-11-11T11:33:42+08:00
draft: false
categories: "microservice"
toc: true
---
&emsp;我们常说，互联网要快速上线试错，小步快跑，边调整边冲刺。对于初创型公司来说，初期为了快速上线，验证可行性。我们会采取单体式架构，只开发核心功能。产品上线后，随着用户地不断增加，需要不断地增加一些新的特性或模块来吸引更多地用户。

&emsp;这个时期就需要大规模增加开发人员，以满足不断增加的业务需求。这时候，单体架构的劣势就显现出来了。多个功能与大量的开发人员一起开发，就会导致互相影响， 牵一发而动全身，甚至响应最终服务的能力。

&emsp;一般有个两个披萨原则，这个最早由亚马逊CEO贝索斯提出，他认为如果两个披萨不足以喂饱一个项目团队（超过10人），那么这个团队可能显得太大了。这时，就要考虑服务化拆分了。

### 1.0 纵向拆分

&emsp;纵向拆分方式就是根据不同的功能进行模块服务化，根据业务特性把应用拆开，独立部署和运维。拆分的标准是根据业务关联程度，业务关联程度较高，拆分为一个微服务，而功能相对独立的拆分为一个微服务。

​	例如一个电商系统，可以拆分为订单服务，产品服务、客户服务等。

### 2.0 横向拆分

&emsp;横向拆分就是找出核心的、公共的业务，将其拆分出来。拆分的标准是是否有功能模块公用，即一个模块要被多个模块公用，且不与其他的业务耦合。

​	还是以电商为例，用户信息涉及到整个系统的方方面面。订单需要用户的信息，个人主页需要用户的头像和昵称。如果更改了用户信息模块，所有模块都需要更改，工作量很大。独立出来，这个就不会影响其他服务。



